var Pi=Object.create;var rt=Object.defineProperty;var Li=Object.getOwnPropertyDescriptor;var zi=Object.getOwnPropertyNames;var Fi=Object.getPrototypeOf,Ni=Object.prototype.hasOwnProperty;var vi=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),Nn=(e,n)=>{for(var t in n)rt(e,t,{get:n[t],enumerable:!0})},vn=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of zi(n))!Ni.call(e,i)&&i!==t&&rt(e,i,{get:()=>n[i],enumerable:!(r=Li(n,i))||r.enumerable});return e};var Mi=(e,n,t)=>(t=e!=null?Pi(Fi(e)):{},vn(n||!e||!e.__esModule?rt(t,"default",{value:e,enumerable:!0}):t,e)),Bi=e=>vn(rt({},"__esModule",{value:!0}),e);var Xr=vi((uh,Zr)=>{"use strict";var It=Object.prototype.hasOwnProperty,Kr=Object.prototype.toString,Ur=Object.defineProperty,Qr=Object.getOwnPropertyDescriptor,Gr=function(n){return typeof Array.isArray=="function"?Array.isArray(n):Kr.call(n)==="[object Array]"},$r=function(n){if(!n||Kr.call(n)!=="[object Object]")return!1;var t=It.call(n,"constructor"),r=n.constructor&&n.constructor.prototype&&It.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!t&&!r)return!1;var i;for(i in n);return typeof i=="undefined"||It.call(n,i)},Wr=function(n,t){Ur&&t.name==="__proto__"?Ur(n,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):n[t.name]=t.newValue},Yr=function(n,t){if(t==="__proto__")if(It.call(n,t)){if(Qr)return Qr(n,t).value}else return;return n[t]};Zr.exports=function e(){var n,t,r,i,o,a,s=arguments[0],u=1,l=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},u=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});u<l;++u)if(n=arguments[u],n!=null)for(t in n)r=Yr(s,t),i=Yr(n,t),s!==i&&(c&&i&&($r(i)||(o=Gr(i)))?(o?(o=!1,a=r&&Gr(r)?r:[]):a=r&&$r(r)?r:{},Wr(s,{name:t,newValue:e(c,a,i)})):typeof i!="undefined"&&Wr(s,{name:t,newValue:i}));return s}});var rs={};Nn(rs,{default:()=>ns});module.exports=Bi(rs);var ki=require("obsidian"),wi=require("@codemirror/state");var ci=require("@codemirror/language"),fi=require("@codemirror/state"),De=require("@codemirror/view");var Mn=require("obsidian");function Pe(e,n,t){let r=document.createElement("span"),i=document.createElement("span");return r.addClass("plugin-copy-section-button"),r.addClass(`plugin-copy-section-button-${e}`),(0,Mn.setIcon)(i,n),r.appendChild(i),t&&t.appendChild(r),{container:r,button:i}}var it=class e{constructor(n,t,r){this.metadata=n;this.start=t;this.end=r}sliceAbsolute(n,t){let r=Math.max(this.start,n||0),i=this.end===void 0||t===void 0?t:Math.min(this.end,t);return new e(this.metadata,r,i)}sliceRelative(n,t){let r=this.end?this.end-this.start:void 0,i=this.start+(n||0),o=r!==void 0&&t!==void 0?this.start+Math.min(t,r):r!==void 0&&t===void 0?this.start+r:r===void 0&&t!==void 0?this.start+t:void 0;return this.sliceAbsolute(i,o)}get from(){return this.start}get to(){return this.end!==void 0?this.end:this.metadata.sections?this.metadata.sections[this.metadata.sections.length-1].position.end.offset:this.from}*getPositionedIndexes(n){if(n)for(let t=0;t<n.length;t++){let r=n[t];if(this.end&&r.position.end.offset>this.end)return;r.position.start.offset>=this.start&&(yield t)}}*getHeadingIndexes(){yield*this.getPositionedIndexes(this.metadata.headings)}*getHeadings(){for(let n of this.getHeadingIndexes())yield this.metadata.headings[n]}getHeadingRelative(n){let t;for(let r of this.getHeadingIndexes()){t=r;break}if(t!==void 0)return this.metadata.headings[t+n]}*getSectionIndexes(){yield*this.getPositionedIndexes(this.metadata.sections)}*getSections(){for(let n of this.getSectionIndexes())yield this.metadata.sections[n]}*getSectionsExpanded(){let n;for(let t of this.getSectionIndexes()){let r=this.metadata.sections[t];(!n&&this.from<r.position.start.offset||n&&n.position.end.offset<r.position.start.offset)&&(yield{type:"gap",position:{start:n?n.position.end:{col:0,line:0,offset:this.from},end:r.position.start}}),yield r,n=r}(!n||n.position.end.offset<this.to)&&(yield{type:"gap",position:{start:n?n.position.end:{col:0,line:0,offset:0},end:{col:0,line:0,offset:this.to}}})}};var qe=class e{constructor(n){this.position=n}static countNewlines(n,t,r){return n.slice(t,r).split(`
`).length-1}static obsidianCol(n,t){let r=n.lastIndexOf(`
`,t);if(r===-1)return t;if(t===r){let i=n.lastIndexOf(`
`,r-1);return i===-1?t:t===i+1?0:t-(i+1)}return t===r+1?0:t-(r+1)}static fromOffsets(n,t,r){t=t===void 0?0:t,r=r===void 0?n.length:r;let i=e.countNewlines(n,0,t);return new e({start:{col:e.obsidianCol(n,t),line:i,offset:t},end:{col:e.obsidianCol(n,r),line:i+e.countNewlines(n,t,r),offset:r}})}static gap(n,t,r){return e.fromOffsets(n,t?t.position.end.offset:void 0,r?r.position.start.offset:void 0)}static fromUnistPosition(n){if(n.start.offset===void 0||n.end.offset===void 0)throw new Error("SyntaxNodePosition requires unist positions to have an offset");return new e({start:{col:n.start.column-1,line:n.start.line-1,offset:n.start.offset},end:{col:n.end.column-1,line:n.end.line-1,offset:n.end.offset}})}static fromObsidianPos(n){return new e(n)}get from(){return this.position.start.offset}get to(){return this.position.end.offset}get unistPosition(){return{start:{column:this.position.start.col+1,line:this.position.start.line+1,offset:this.position.start.offset},end:{column:this.position.end.col+1,line:this.position.end.line+1,offset:this.position.end.offset}}}get obsidianPos(){return this.position}sliceAbsolute(n,t,r,i){return t=t===void 0?this.position.start.offset:i?t:Math.min(Math.max(this.position.start.offset,t),this.position.end.offset),r=r===void 0?this.position.end.offset:i?r:Math.max(Math.min(this.position.end.offset,r),this.position.start.offset),e.fromOffsets(n,t,r)}sliceRelative(n,t,r,i){return t=t===void 0?void 0:this.position.start.offset+t,r=r===void 0?void 0:this.position.start.offset+r,this.sliceAbsolute(n,t,r,i)}};var Le=class e{constructor(n,t,r,i){this.doc=n;this.node=t;this.parent=r;this.index=i;if(!this.node.position)throw new Error("assertion failure: all parsed Nodes are expected to have a position");this.nodePosition=qe.fromUnistPosition(this.node.position)}static createGap(n,t){if(!n&&!t)throw new Error("can't gap between nothing and nothing");let r=(n==null?void 0:n.doc)||t.doc,i=qe.gap(r,n==null?void 0:n.position,t==null?void 0:t.position),o={type:"gap",position:i.unistPosition,value:r.slice(i.from,i.to)};return new e(r,o)}static isParent(n){return"children"in n&&n.children.length>0}extendTo(n){let t=new e(this.doc,this.node,this.parent,this.index);return this.typeOverride!==void 0&&(t.type=this.typeOverride),t.nodePosition=this.nodePosition.sliceAbsolute(this.doc,this.position.from,n,!0),t}slice(n,t){let r=new e(this.doc,this.node,this.parent,this.index);return this.typeOverride!==void 0&&(r.type=this.typeOverride),r.nodePosition=this.nodePosition.sliceRelative(this.doc,n,t),r}get simpleSpan(){return{type:this.type,position:this.position.obsidianPos}}get firstChild(){return e.isParent(this.node)?new e(this.doc,this.node.children[0],this,0):void 0}get children(){return e.isParent(this.node)?this.node.children.map((n,t)=>new e(this.doc,n,this,t)):[]}get siblings(){return!this.parent||this.index===void 0?[]:this.parent.children}get nextSibling(){if(!(!this.parent||this.index===void 0))return this.parent.children[this.index+1]}get type(){if(this.typeOverride!==void 0)return this.typeOverride;if(this.node.type==="html")return this.doc.slice(this.position.from,this.position.from+4)==="<!--"?"comment":"literal";let n={code:"literal",comment:"comment",gap:"text",inlineCode:"literal",tag:"tag",text:"text",thematicBreak:"text"};return this.node.type in n?n[this.node.type]:this.node.type}set type(n){this.typeOverride=n}get position(){return this.nodePosition}toString(){return this.doc.slice(this.position.from,this.position.to)}};var Ri={};function we(e,n){let t=n||Ri,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return Rn(e,r,i)}function Rn(e,n,t){if(_i(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Bn(e.children,n,t)}return Array.isArray(e)?Bn(e,n,t):""}function Bn(e,n,t){let r=[],i=-1;for(;++i<e.length;)r[i]=Rn(e[i],n,t);return r.join("")}function _i(e){return!!(e&&typeof e=="object")}var _n=document.createElement("i");function ze(e){let n="&"+e+";";_n.innerHTML=n;let t=_n.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}function G(e,n,t,r){let i=e.length,o=0,a;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)a=Array.from(r),a.unshift(n,t),e.splice(...a);else for(t&&e.splice(n,t);o<r.length;)a=r.slice(o,o+1e4),a.unshift(n,0),e.splice(...a),o+=1e4,n+=1e4}function W(e,n){return e.length>0?(G(e,e.length,0,n),e):n}var On={}.hasOwnProperty;function Dn(e){let n={},t=-1;for(;++t<e.length;)Oi(n,e[t]);return n}function Oi(e,n){let t;for(t in n){let i=(On.call(e,t)?e[t]:void 0)||(e[t]={}),o=n[t],a;if(o)for(a in o){On.call(i,a)||(i[a]=[]);let s=o[a];Di(i[a],Array.isArray(s)?s:s?[s]:[])}}}function Di(e,n){let t=-1,r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);G(e,0,0,r)}function ot(e,n){let t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCodePoint(t)}function fe(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var X=pe(/[A-Za-z]/),Y=pe(/[\dA-Za-z]/),Hn=pe(/[#-'*+\--9=?A-Z^-~]/);function Ue(e){return e!==null&&(e<32||e===127)}var Qe=pe(/\d/),Vn=pe(/[\dA-Fa-f]/),jn=pe(/[!-/:-@[-`{-~]/);function w(e){return e!==null&&e<-2}function V(e){return e!==null&&(e<0||e===32)}function I(e){return e===-2||e===-1||e===32}var qn=pe(/\p{P}|\p{S}/u),Un=pe(/\s/);function pe(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function A(e,n,t,r){let i=r?r-1:Number.POSITIVE_INFINITY,o=0;return a;function a(u){return I(u)?(e.enter(t),s(u)):n(u)}function s(u){return I(u)&&o++<i?(e.consume(u),s):(e.exit(t),n(u))}}var Qn={tokenize:Hi};function Hi(e){let n=e.attempt(this.parser.constructs.contentInitial,r,i),t;return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),A(e,n,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){let u=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=u),t=u,a(s)}function a(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return w(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),a)}}var $n={tokenize:Vi},Gn={tokenize:ji};function Vi(e){let n=this,t=[],r=0,i,o,a;return s;function s(S){if(r<t.length){let _=t[r];return n.containerState=_[1],e.attempt(_[0].continuation,u,l)(S)}return l(S)}function u(S){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&R();let _=n.events.length,D=_,x;for(;D--;)if(n.events[D][0]==="exit"&&n.events[D][1].type==="chunkFlow"){x=n.events[D][1].end;break}k(r);let B=_;for(;B<n.events.length;)n.events[B][1].end={...x},B++;return G(n.events,D+1,0,n.events.slice(_)),n.events.length=B,l(S)}return s(S)}function l(S){if(r===t.length){if(!i)return h(S);if(i.currentConstruct&&i.currentConstruct.concrete)return b(S);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(Gn,c,p)(S)}function c(S){return i&&R(),k(r),h(S)}function p(S){return n.parser.lazy[n.now().line]=r!==t.length,a=n.now().offset,b(S)}function h(S){return n.containerState={},e.attempt(Gn,f,b)(S)}function f(S){return r++,t.push([n.currentConstruct,n.containerState]),h(S)}function b(S){if(S===null){i&&R(),k(0),e.consume(S);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),E(S)}function E(S){if(S===null){N(e.exit("chunkFlow"),!0),k(0),e.consume(S);return}return w(S)?(e.consume(S),N(e.exit("chunkFlow")),r=0,n.interrupt=void 0,s):(e.consume(S),E)}function N(S,_){let D=n.sliceStream(S);if(_&&D.push(null),S.previous=o,o&&(o.next=S),o=S,i.defineSkip(S.start),i.write(D),n.parser.lazy[S.start.line]){let x=i.events.length;for(;x--;)if(i.events[x][1].start.offset<a&&(!i.events[x][1].end||i.events[x][1].end.offset>a))return;let B=n.events.length,j=B,F,O;for(;j--;)if(n.events[j][0]==="exit"&&n.events[j][1].type==="chunkFlow"){if(F){O=n.events[j][1].end;break}F=!0}for(k(r),x=B;x<n.events.length;)n.events[x][1].end={...O},x++;G(n.events,j+1,0,n.events.slice(B)),n.events.length=x}}function k(S){let _=t.length;for(;_-- >S;){let D=t[_];n.containerState=D[1],D[0].exit.call(n,e)}t.length=S}function R(){i.write([null]),o=void 0,i=void 0,n.containerState._closeFlow=void 0}}function ji(e,n,t){return A(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Fe(e){if(e===null||V(e)||Un(e))return 1;if(qn(e))return 2}function Ne(e,n,t){let r=[],i=-1;for(;++i<e.length;){let o=e[i].resolveAll;o&&!r.includes(o)&&(n=o(n,t),r.push(o))}return n}var Ge={name:"attention",resolveAll:qi,tokenize:Ui};function qi(e,n){let t=-1,r,i,o,a,s,u,l,c;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;let p={...e[r][1].end},h={...e[t][1].start};Wn(p,-u),Wn(h,u),a={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},s={type:u>1?"strongSequence":"emphasisSequence",start:{...e[t][1].start},end:h},o={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[t][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},e[r][1].end={...a.start},e[t][1].start={...s.end},l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=W(l,[["enter",e[r][1],n],["exit",e[r][1],n]])),l=W(l,[["enter",i,n],["enter",a,n],["exit",a,n],["enter",o,n]]),l=W(l,Ne(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),l=W(l,[["exit",o,n],["enter",s,n],["exit",s,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(c=2,l=W(l,[["enter",e[t][1],n],["exit",e[t][1],n]])):c=0,G(e,r-1,t-r+3,l),t=r+l.length-c-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function Ui(e,n){let t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Fe(r),o;return a;function a(u){return o=u,e.enter("attentionSequence"),s(u)}function s(u){if(u===o)return e.consume(u),s;let l=e.exit("attentionSequence"),c=Fe(u),p=!c||c===2&&i||t.includes(u),h=!i||i===2&&c||t.includes(r);return l._open=!!(o===42?p:p&&(i||!h)),l._close=!!(o===42?h:h&&(c||!p)),n(u)}}function Wn(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}var vt={name:"autolink",tokenize:Qi};function Qi(e,n,t){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(f){return X(f)?(e.consume(f),a):f===64?t(f):l(f)}function a(f){return f===43||f===45||f===46||Y(f)?(r=1,s(f)):l(f)}function s(f){return f===58?(e.consume(f),r=0,u):(f===43||f===45||f===46||Y(f))&&r++<32?(e.consume(f),s):(r=0,l(f))}function u(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),n):f===null||f===32||f===60||Ue(f)?t(f):(e.consume(f),u)}function l(f){return f===64?(e.consume(f),c):Hn(f)?(e.consume(f),l):t(f)}function c(f){return Y(f)?p(f):t(f)}function p(f){return f===46?(e.consume(f),r=0,c):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),n):h(f)}function h(f){if((f===45||Y(f))&&r++<63){let b=f===45?h:p;return e.consume(f),b}return t(f)}}var he={partial:!0,tokenize:Gi};function Gi(e,n,t){return r;function r(o){return I(o)?A(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||w(o)?n(o):t(o)}}var at={continuation:{tokenize:Wi},exit:Yi,name:"blockQuote",tokenize:$i};function $i(e,n,t){let r=this;return i;function i(a){if(a===62){let s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return t(a)}function o(a){return I(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(a))}}function Wi(e,n,t){let r=this;return i;function i(a){return I(a)?A(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(at,n,t)(a)}}function Yi(e){e.exit("blockQuote")}var st={name:"characterEscape",tokenize:Ki};function Ki(e,n,t){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return jn(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(o)}}var ut={name:"characterReference",tokenize:Zi};function Zi(e,n,t){let r=this,i=0,o,a;return s;function s(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),u}function u(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),o=31,a=Y,c(p))}function l(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=Vn,c):(e.enter("characterReferenceValue"),o=7,a=Qe,c(p))}function c(p){if(p===59&&i){let h=e.exit("characterReferenceValue");return a===Y&&!ze(r.sliceSerialize(h))?t(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return a(p)&&i++<o?(e.consume(p),c):t(p)}}var Yn={partial:!0,tokenize:Ji},lt={concrete:!0,name:"codeFenced",tokenize:Xi};function Xi(e,n,t){let r=this,i={partial:!0,tokenize:D},o=0,a=0,s;return u;function u(x){return l(x)}function l(x){let B=r.events[r.events.length-1];return o=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,s=x,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(x)}function c(x){return x===s?(a++,e.consume(x),c):a<3?t(x):(e.exit("codeFencedFenceSequence"),I(x)?A(e,p,"whitespace")(x):p(x))}function p(x){return x===null||w(x)?(e.exit("codeFencedFence"),r.interrupt?n(x):e.check(Yn,E,_)(x)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(x))}function h(x){return x===null||w(x)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(x)):I(x)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),A(e,f,"whitespace")(x)):x===96&&x===s?t(x):(e.consume(x),h)}function f(x){return x===null||w(x)?p(x):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(x))}function b(x){return x===null||w(x)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(x)):x===96&&x===s?t(x):(e.consume(x),b)}function E(x){return e.attempt(i,_,N)(x)}function N(x){return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),k}function k(x){return o>0&&I(x)?A(e,R,"linePrefix",o+1)(x):R(x)}function R(x){return x===null||w(x)?e.check(Yn,E,_)(x):(e.enter("codeFlowValue"),S(x))}function S(x){return x===null||w(x)?(e.exit("codeFlowValue"),R(x)):(e.consume(x),S)}function _(x){return e.exit("codeFenced"),n(x)}function D(x,B,j){let F=0;return O;function O(P){return x.enter("lineEnding"),x.consume(P),x.exit("lineEnding"),te}function te(P){return x.enter("codeFencedFence"),I(P)?A(x,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):v(P)}function v(P){return P===s?(x.enter("codeFencedFenceSequence"),C(P)):j(P)}function C(P){return P===s?(F++,x.consume(P),C):F>=a?(x.exit("codeFencedFenceSequence"),I(P)?A(x,L,"whitespace")(P):L(P)):j(P)}function L(P){return P===null||w(P)?(x.exit("codeFencedFence"),B(P)):j(P)}}}function Ji(e,n,t){let r=this;return i;function i(a){return a===null?t(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?t(a):n(a)}}var $e={name:"codeIndented",tokenize:to},eo={partial:!0,tokenize:no};function to(e,n,t){let r=this;return i;function i(l){return e.enter("codeIndented"),A(e,o,"linePrefix",5)(l)}function o(l){let c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(l):t(l)}function a(l){return l===null?u(l):w(l)?e.attempt(eo,a,u)(l):(e.enter("codeFlowValue"),s(l))}function s(l){return l===null||w(l)?(e.exit("codeFlowValue"),a(l)):(e.consume(l),s)}function u(l){return e.exit("codeIndented"),n(l)}}function no(e,n,t){let r=this;return i;function i(a){return r.parser.lazy[r.now().line]?t(a):w(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):A(e,o,"linePrefix",5)(a)}function o(a){let s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?n(a):w(a)?i(a):t(a)}}var Mt={name:"codeText",previous:io,resolve:ro,tokenize:oo};function ro(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function io(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function oo(e,n,t){let r=this,i=0,o,a;return s;function s(h){return e.enter("codeText"),e.enter("codeTextSequence"),u(h)}function u(h){return h===96?(e.consume(h),i++,u):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?t(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(a=e.enter("codeTextSequence"),o=0,p(h)):w(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||w(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),c)}function p(h){return h===96?(e.consume(h),o++,p):o===i?(e.exit("codeTextSequence"),e.exit("codeText"),n(h)):(a.type="codeTextData",c(h))}}var ct=class{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,t){let r=t==null?Number.POSITIVE_INFINITY:t;return r<this.left.length?this.left.slice(n,r):n>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(n,t,r){let i=t||0;this.setCursor(Math.trunc(n));let o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&We(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),We(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),We(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){let t=this.left.splice(n,Number.POSITIVE_INFINITY);We(this.right,t.reverse())}else{let t=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);We(this.left,t.reverse())}}};function We(e,n){let t=0;if(n.length<1e4)e.push(...n);else for(;t<n.length;)e.push(...n.slice(t,t+1e4)),t+=1e4}function ft(e){let n={},t=-1,r,i,o,a,s,u,l,c=new ct(e);for(;++t<c.length;){for(;t in n;)t=n[t];if(r=c.get(t),t&&r[1].type==="chunkFlow"&&c.get(t-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,o=0,o<u.length&&u[o][1].type==="lineEndingBlank"&&(o+=2),o<u.length&&u[o][1].type==="content"))for(;++o<u.length&&u[o][1].type!=="content";)u[o][1].type==="chunkText"&&(u[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,ao(c,t)),t=n[t],l=!0);else if(r[1]._container){for(o=t,i=void 0;o--&&(a=c.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);i&&(r[1].end={...c.get(i)[1].start},s=c.slice(i,t),s.unshift(r),c.splice(i,t-i+1,s))}}return G(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function ao(e,n){let t=e.get(n)[1],r=e.get(n)[2],i=n-1,o=[],a=t._tokenizer||r.parser[t.contentType](t.start),s=a.events,u=[],l={},c,p,h=-1,f=t,b=0,E=0,N=[E];for(;f;){for(;e.get(++i)[1]!==f;);o.push(i),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(null),p&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=f,f=f.next}for(f=t;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(E=h+1,N.push(E),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):N.pop(),h=N.length;h--;){let k=s.slice(N[h],N[h+1]),R=o.pop();u.push([R,R+k.length-1]),e.splice(R,2,k)}for(u.reverse(),h=-1;++h<u.length;)l[b+u[h][0]]=b+u[h][1],b+=u[h][1]-u[h][0]-1;return l}var Bt={resolve:uo,tokenize:lo},so={partial:!0,tokenize:co};function uo(e){return ft(e),e}function lo(e,n){let t;return r;function r(s){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):w(s)?e.check(so,a,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),n(s)}function a(s){return e.consume(s),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function co(e,n,t){let r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),A(e,o,"linePrefix")}function o(a){if(a===null||w(a))return t(a);let s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?n(a):e.interrupt(r.parser.constructs.flow,t,n)(a)}}function pt(e,n,t,r,i,o,a,s,u){let l=u||Number.POSITIVE_INFINITY,c=0;return p;function p(k){return k===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(k),e.exit(o),h):k===null||k===32||k===41||Ue(k)?t(k):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),E(k))}function h(k){return k===62?(e.enter(o),e.consume(k),e.exit(o),e.exit(i),e.exit(r),n):(e.enter(s),e.enter("chunkString",{contentType:"string"}),f(k))}function f(k){return k===62?(e.exit("chunkString"),e.exit(s),h(k)):k===null||k===60||w(k)?t(k):(e.consume(k),k===92?b:f)}function b(k){return k===60||k===62||k===92?(e.consume(k),f):f(k)}function E(k){return!c&&(k===null||k===41||V(k))?(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),n(k)):c<l&&k===40?(e.consume(k),c++,E):k===41?(e.consume(k),c--,E):k===null||k===32||k===40||Ue(k)?t(k):(e.consume(k),k===92?N:E)}function N(k){return k===40||k===41||k===92?(e.consume(k),E):E(k)}}function ht(e,n,t,r,i,o){let a=this,s=0,u;return l;function l(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(o),c}function c(f){return s>999||f===null||f===91||f===93&&!u||f===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?t(f):f===93?(e.exit(o),e.enter(i),e.consume(f),e.exit(i),e.exit(r),n):w(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),p(f))}function p(f){return f===null||f===91||f===93||w(f)||s++>999?(e.exit("chunkString"),c(f)):(e.consume(f),u||(u=!I(f)),f===92?h:p)}function h(f){return f===91||f===92||f===93?(e.consume(f),s++,p):p(f)}}function mt(e,n,t,r,i,o){let a;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),a=h===40?41:h,u):t(h)}function u(h){return h===a?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),n):(e.enter(o),l(h))}function l(h){return h===a?(e.exit(o),u(a)):h===null?t(h):w(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),A(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===a||h===null||w(h)?(e.exit("chunkString"),l(h)):(e.consume(h),h===92?p:c)}function p(h){return h===a||h===92?(e.consume(h),c):c(h)}}function be(e,n){let t;return r;function r(i){return w(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):I(i)?A(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}var Rt={name:"definition",tokenize:po},fo={partial:!0,tokenize:ho};function po(e,n,t){let r=this,i;return o;function o(f){return e.enter("definition"),a(f)}function a(f){return ht.call(r,e,s,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function s(f){return i=fe(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),u):t(f)}function u(f){return V(f)?be(e,l)(f):l(f)}function l(f){return pt(e,c,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function c(f){return e.attempt(fo,p,p)(f)}function p(f){return I(f)?A(e,h,"whitespace")(f):h(f)}function h(f){return f===null||w(f)?(e.exit("definition"),r.parser.defined.push(i),n(f)):t(f)}}function ho(e,n,t){return r;function r(s){return V(s)?be(e,i)(s):t(s)}function i(s){return mt(e,o,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return I(s)?A(e,a,"whitespace")(s):a(s)}function a(s){return s===null||w(s)?n(s):t(s)}}var _t={name:"hardBreakEscape",tokenize:mo};function mo(e,n,t){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return w(o)?(e.exit("hardBreakEscape"),n(o)):t(o)}}var Ot={name:"headingAtx",resolve:go,tokenize:xo};function go(e,n){let t=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},o={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},G(e,r,t-r+1,[["enter",i,n],["enter",o,n],["exit",o,n],["exit",i,n]])),e}function xo(e,n,t){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(e.consume(c),a):c===null||V(c)?(e.exit("atxHeadingSequence"),s(c)):t(c)}function s(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||w(c)?(e.exit("atxHeading"),n(c)):I(c)?A(e,s,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),s(c))}function l(c){return c===null||c===35||V(c)?(e.exit("atxHeadingText"),s(c)):(e.consume(c),l)}}var Kn=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Dt=["pre","script","style","textarea"];var Ht={concrete:!0,name:"htmlFlow",resolveTo:wo,tokenize:bo},yo={partial:!0,tokenize:Co},ko={partial:!0,tokenize:So};function wo(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function bo(e,n,t){let r=this,i,o,a,s,u;return l;function l(d){return c(d)}function c(d){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(d),p}function p(d){return d===33?(e.consume(d),h):d===47?(e.consume(d),o=!0,E):d===63?(e.consume(d),i=3,r.interrupt?n:m):X(d)?(e.consume(d),a=String.fromCharCode(d),N):t(d)}function h(d){return d===45?(e.consume(d),i=2,f):d===91?(e.consume(d),i=5,s=0,b):X(d)?(e.consume(d),i=4,r.interrupt?n:m):t(d)}function f(d){return d===45?(e.consume(d),r.interrupt?n:m):t(d)}function b(d){let K="CDATA[";return d===K.charCodeAt(s++)?(e.consume(d),s===K.length?r.interrupt?n:v:b):t(d)}function E(d){return X(d)?(e.consume(d),a=String.fromCharCode(d),N):t(d)}function N(d){if(d===null||d===47||d===62||V(d)){let K=d===47,xe=a.toLowerCase();return!K&&!o&&Dt.includes(xe)?(i=1,r.interrupt?n(d):v(d)):Kn.includes(a.toLowerCase())?(i=6,K?(e.consume(d),k):r.interrupt?n(d):v(d)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(d):o?R(d):S(d))}return d===45||Y(d)?(e.consume(d),a+=String.fromCharCode(d),N):t(d)}function k(d){return d===62?(e.consume(d),r.interrupt?n:v):t(d)}function R(d){return I(d)?(e.consume(d),R):O(d)}function S(d){return d===47?(e.consume(d),O):d===58||d===95||X(d)?(e.consume(d),_):I(d)?(e.consume(d),S):O(d)}function _(d){return d===45||d===46||d===58||d===95||Y(d)?(e.consume(d),_):D(d)}function D(d){return d===61?(e.consume(d),x):I(d)?(e.consume(d),D):S(d)}function x(d){return d===null||d===60||d===61||d===62||d===96?t(d):d===34||d===39?(e.consume(d),u=d,B):I(d)?(e.consume(d),x):j(d)}function B(d){return d===u?(e.consume(d),u=null,F):d===null||w(d)?t(d):(e.consume(d),B)}function j(d){return d===null||d===34||d===39||d===47||d===60||d===61||d===62||d===96||V(d)?D(d):(e.consume(d),j)}function F(d){return d===47||d===62||I(d)?S(d):t(d)}function O(d){return d===62?(e.consume(d),te):t(d)}function te(d){return d===null||w(d)?v(d):I(d)?(e.consume(d),te):t(d)}function v(d){return d===45&&i===2?(e.consume(d),H):d===60&&i===1?(e.consume(d),q):d===62&&i===4?(e.consume(d),ne):d===63&&i===3?(e.consume(d),m):d===93&&i===5?(e.consume(d),ae):w(d)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(yo,se,C)(d)):d===null||w(d)?(e.exit("htmlFlowData"),C(d)):(e.consume(d),v)}function C(d){return e.check(ko,L,se)(d)}function L(d){return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),P}function P(d){return d===null||w(d)?C(d):(e.enter("htmlFlowData"),v(d))}function H(d){return d===45?(e.consume(d),m):v(d)}function q(d){return d===47?(e.consume(d),a="",re):v(d)}function re(d){if(d===62){let K=a.toLowerCase();return Dt.includes(K)?(e.consume(d),ne):v(d)}return X(d)&&a.length<8?(e.consume(d),a+=String.fromCharCode(d),re):v(d)}function ae(d){return d===93?(e.consume(d),m):v(d)}function m(d){return d===62?(e.consume(d),ne):d===45&&i===2?(e.consume(d),m):v(d)}function ne(d){return d===null||w(d)?(e.exit("htmlFlowData"),se(d)):(e.consume(d),ne)}function se(d){return e.exit("htmlFlow"),n(d)}}function So(e,n,t){let r=this;return i;function i(a){return w(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):t(a)}function o(a){return r.parser.lazy[r.now().line]?t(a):n(a)}}function Co(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(he,n,t)}}var Vt={name:"htmlText",tokenize:Eo};function Eo(e,n,t){let r=this,i,o,a;return s;function s(m){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(m),u}function u(m){return m===33?(e.consume(m),l):m===47?(e.consume(m),D):m===63?(e.consume(m),S):X(m)?(e.consume(m),j):t(m)}function l(m){return m===45?(e.consume(m),c):m===91?(e.consume(m),o=0,b):X(m)?(e.consume(m),R):t(m)}function c(m){return m===45?(e.consume(m),f):t(m)}function p(m){return m===null?t(m):m===45?(e.consume(m),h):w(m)?(a=p,q(m)):(e.consume(m),p)}function h(m){return m===45?(e.consume(m),f):p(m)}function f(m){return m===62?H(m):m===45?h(m):p(m)}function b(m){let ne="CDATA[";return m===ne.charCodeAt(o++)?(e.consume(m),o===ne.length?E:b):t(m)}function E(m){return m===null?t(m):m===93?(e.consume(m),N):w(m)?(a=E,q(m)):(e.consume(m),E)}function N(m){return m===93?(e.consume(m),k):E(m)}function k(m){return m===62?H(m):m===93?(e.consume(m),k):E(m)}function R(m){return m===null||m===62?H(m):w(m)?(a=R,q(m)):(e.consume(m),R)}function S(m){return m===null?t(m):m===63?(e.consume(m),_):w(m)?(a=S,q(m)):(e.consume(m),S)}function _(m){return m===62?H(m):S(m)}function D(m){return X(m)?(e.consume(m),x):t(m)}function x(m){return m===45||Y(m)?(e.consume(m),x):B(m)}function B(m){return w(m)?(a=B,q(m)):I(m)?(e.consume(m),B):H(m)}function j(m){return m===45||Y(m)?(e.consume(m),j):m===47||m===62||V(m)?F(m):t(m)}function F(m){return m===47?(e.consume(m),H):m===58||m===95||X(m)?(e.consume(m),O):w(m)?(a=F,q(m)):I(m)?(e.consume(m),F):H(m)}function O(m){return m===45||m===46||m===58||m===95||Y(m)?(e.consume(m),O):te(m)}function te(m){return m===61?(e.consume(m),v):w(m)?(a=te,q(m)):I(m)?(e.consume(m),te):F(m)}function v(m){return m===null||m===60||m===61||m===62||m===96?t(m):m===34||m===39?(e.consume(m),i=m,C):w(m)?(a=v,q(m)):I(m)?(e.consume(m),v):(e.consume(m),L)}function C(m){return m===i?(e.consume(m),i=void 0,P):m===null?t(m):w(m)?(a=C,q(m)):(e.consume(m),C)}function L(m){return m===null||m===34||m===39||m===60||m===61||m===96?t(m):m===47||m===62||V(m)?F(m):(e.consume(m),L)}function P(m){return m===47||m===62||V(m)?F(m):t(m)}function H(m){return m===62?(e.consume(m),e.exit("htmlTextData"),e.exit("htmlText"),n):t(m)}function q(m){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),re}function re(m){return I(m)?A(e,ae,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):ae(m)}function ae(m){return e.enter("htmlTextData"),a(m)}}var Se={name:"labelEnd",resolveAll:Po,resolveTo:Lo,tokenize:zo},Io={tokenize:Fo},To={tokenize:No},Ao={tokenize:vo};function Po(e){let n=-1,t=[];for(;++n<e.length;){let r=e[n][1];if(t.push(e[n]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let i=r.type==="labelImage"?4:2;r.type="data",n+=i}}return e.length!==t.length&&G(e,0,e.length,t),e}function Lo(e,n){let t=e.length,r=0,i,o,a,s;for(;t--;)if(i=e[t][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=t);let u={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},l={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},c={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return s=[["enter",u,n],["enter",l,n]],s=W(s,e.slice(o+1,o+r+3)),s=W(s,[["enter",c,n]]),s=W(s,Ne(n.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),n)),s=W(s,[["exit",c,n],e[a-2],e[a-1],["exit",l,n]]),s=W(s,e.slice(a+1)),s=W(s,[["exit",u,n]]),G(e,o,e.length,s),e}function zo(e,n,t){let r=this,i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(h){return o?o._inactive?p(h):(a=r.parser.defined.includes(fe(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),u):t(h)}function u(h){return h===40?e.attempt(Io,c,a?c:p)(h):h===91?e.attempt(To,c,a?l:p)(h):a?c(h):p(h)}function l(h){return e.attempt(Ao,c,p)(h)}function c(h){return n(h)}function p(h){return o._balanced=!0,t(h)}}function Fo(e,n,t){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return V(p)?be(e,o)(p):o(p)}function o(p){return p===41?c(p):pt(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return V(p)?be(e,u)(p):c(p)}function s(p){return t(p)}function u(p){return p===34||p===39||p===40?mt(e,l,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):c(p)}function l(p){return V(p)?be(e,c)(p):c(p)}function c(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),n):t(p)}}function No(e,n,t){let r=this;return i;function i(s){return ht.call(r,e,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(fe(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(s):t(s)}function a(s){return t(s)}}function vo(e,n,t){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),n):t(o)}}var jt={name:"labelStartImage",resolveAll:Se.resolveAll,tokenize:Mo};function Mo(e,n,t){let r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),a):t(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}var qt={name:"labelStartLink",resolveAll:Se.resolveAll,tokenize:Bo};function Bo(e,n,t){let r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):n(a)}}var Ye={name:"lineEnding",tokenize:Ro};function Ro(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),A(e,n,"linePrefix")}}var Ce={name:"thematicBreak",tokenize:_o};function _o(e,n,t){let r=0,i;return o;function o(l){return e.enter("thematicBreak"),a(l)}function a(l){return i=l,s(l)}function s(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||w(l))?(e.exit("thematicBreak"),n(l)):t(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),I(l)?A(e,s,"whitespace")(l):s(l))}}var $={continuation:{tokenize:Vo},exit:qo,name:"list",tokenize:Ho},Oo={partial:!0,tokenize:Uo},Do={partial:!0,tokenize:jo};function Ho(e,n,t){let r=this,i=r.events[r.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(f){let b=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:Qe(f)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(Ce,t,l)(f):l(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(f)}return t(f)}function u(f){return Qe(f)&&++a<10?(e.consume(f),u):(!r.interrupt||a<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),l(f)):t(f)}function l(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(he,r.interrupt?t:c,e.attempt(Oo,h,p))}function c(f){return r.containerState.initialBlankLine=!0,o++,h(f)}function p(f){return I(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),h):t(f)}function h(f){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(f)}}function Vo(e,n,t){let r=this;return r.containerState._closeFlow=void 0,e.check(he,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,A(e,n,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!I(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Do,n,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,A(e,e.attempt($,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function jo(e,n,t){let r=this;return A(e,i,"listItemIndent",r.containerState.size+1);function i(o){let a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?n(o):t(o)}}function qo(e){e.exit(this.containerState.type)}function Uo(e,n,t){let r=this;return A(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){let a=r.events[r.events.length-1];return!I(o)&&a&&a[1].type==="listItemPrefixWhitespace"?n(o):t(o)}}var dt={name:"setextUnderline",resolveTo:Qo,tokenize:Go};function Qo(e,n){let t=e.length,r,i,o;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!o&&e[t][1].type==="definition"&&(o=t);let a={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,n]),e.splice(o+1,0,["exit",e[r][1],n]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,n]),e}function Go(e,n,t){let r=this,i;return o;function o(l){let c=r.events.length,p;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){p=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=l,a(l)):t(l)}function a(l){return e.enter("setextHeadingLineSequence"),s(l)}function s(l){return l===i?(e.consume(l),s):(e.exit("setextHeadingLineSequence"),I(l)?A(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||w(l)?(e.exit("setextHeadingLine"),n(l)):t(l)}}var Zn={tokenize:$o};function $o(e){let n=this,t=e.attempt(he,r,e.attempt(this.parser.constructs.flowInitial,i,A(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Bt,i)),"linePrefix")));return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n.currentConstruct=void 0,t}}var Xn={resolveAll:nr()},Jn=tr("string"),er=tr("text");function tr(e){return{resolveAll:nr(e==="text"?Wo:void 0),tokenize:n};function n(t){let r=this,i=this.parser.constructs[e],o=t.attempt(i,a,s);return a;function a(c){return l(c)?o(c):s(c)}function s(c){if(c===null){t.consume(c);return}return t.enter("data"),t.consume(c),u}function u(c){return l(c)?(t.exit("data"),o(c)):(t.consume(c),u)}function l(c){if(c===null)return!0;let p=i[c],h=-1;if(p)for(;++h<p.length;){let f=p[h];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function nr(e){return n;function n(t,r){let i=-1,o;for(;++i<=t.length;)o===void 0?t[i]&&t[i][1].type==="data"&&(o=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==o+2&&(t[o][1].end=t[i-1][1].end,t.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(t,r):t}}function Wo(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){let r=e[t-1][1],i=n.sliceStream(r),o=i.length,a=-1,s=0,u;for(;o--;){let l=i[o];if(typeof l=="string"){for(a=l.length;l.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(l===-2)u=!0,s++;else if(l!==-1){o++;break}}if(s){let l={type:t===e.length||u||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...l.start},r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(t,0,["enter",l,n],["exit",l,n]),t+=2)}t++}return e}var Ut={};Nn(Ut,{attentionMarkers:()=>na,contentInitial:()=>Ko,disable:()=>ra,document:()=>Yo,flow:()=>Xo,flowInitial:()=>Zo,insideSpan:()=>ta,string:()=>Jo,text:()=>ea});var Yo={42:$,43:$,45:$,48:$,49:$,50:$,51:$,52:$,53:$,54:$,55:$,56:$,57:$,62:at},Ko={91:Rt},Zo={[-2]:$e,[-1]:$e,32:$e},Xo={35:Ot,42:Ce,45:[dt,Ce],60:Ht,61:dt,95:Ce,96:lt,126:lt},Jo={38:ut,92:st},ea={[-5]:Ye,[-4]:Ye,[-3]:Ye,33:jt,38:ut,42:Ge,60:[vt,Vt],91:qt,92:[_t,st],93:Se,95:Ge,96:Mt},ta={null:[Ge,Xn]},na={null:[42,95]},ra={null:[]};function rr(e,n,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0},i={},o=[],a=[],s=[],u=!0,l={attempt:F(B),check:F(j),consume:_,enter:D,exit:x,interrupt:F(j,{interrupt:!0})},c={code:null,containerState:{},defineSkip:k,events:[],now:N,parser:e,previous:null,sliceSerialize:b,sliceStream:E,write:f},p=n.tokenize.call(c,l),h;return n.resolveAll&&o.push(n),c;function f(C){return a=W(a,C),R(),a[a.length-1]!==null?[]:(O(n,0),c.events=Ne(o,c.events,c),c.events)}function b(C,L){return oa(E(C),L)}function E(C){return ia(a,C)}function N(){let{_bufferIndex:C,_index:L,line:P,column:H,offset:q}=r;return{_bufferIndex:C,_index:L,line:P,column:H,offset:q}}function k(C){i[C.line]=C.column,v()}function R(){let C;for(;r._index<a.length;){let L=a[r._index];if(typeof L=="string")for(C=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===C&&r._bufferIndex<L.length;)S(L.charCodeAt(r._bufferIndex));else S(L)}}function S(C){u=void 0,h=C,p=p(C)}function _(C){w(C)?(r.line++,r.column=1,r.offset+=C===-3?2:1,v()):C!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=C,u=!0}function D(C,L){let P=L||{};return P.type=C,P.start=N(),c.events.push(["enter",P,c]),s.push(P),P}function x(C){let L=s.pop();return L.end=N(),c.events.push(["exit",L,c]),L}function B(C,L){O(C,L.from)}function j(C,L){L.restore()}function F(C,L){return P;function P(H,q,re){let ae,m,ne,se;return Array.isArray(H)?K(H):"tokenize"in H?K([H]):d(H);function d(Q){return He;function He(ue){let ye=ue!==null&&Q[ue],Te=ue!==null&&Q.null,Nt=[...Array.isArray(ye)?ye:ye?[ye]:[],...Array.isArray(Te)?Te:Te?[Te]:[]];return K(Nt)(ue)}}function K(Q){return ae=Q,m=0,Q.length===0?re:xe(Q[m])}function xe(Q){return He;function He(ue){return se=te(),ne=Q,Q.partial||(c.currentConstruct=Q),Q.name&&c.parser.constructs.disable.null.includes(Q.name)?nt(ue):Q.tokenize.call(L?Object.assign(Object.create(c),L):c,l,Ft,nt)(ue)}}function Ft(Q){return u=!0,C(ne,se),q}function nt(Q){return u=!0,se.restore(),++m<ae.length?xe(ae[m]):re}}}function O(C,L){C.resolveAll&&!o.includes(C)&&o.push(C),C.resolve&&G(c.events,L,c.events.length-L,C.resolve(c.events.slice(L),c)),C.resolveTo&&(c.events=C.resolveTo(c.events,c))}function te(){let C=N(),L=c.previous,P=c.currentConstruct,H=c.events.length,q=Array.from(s);return{from:H,restore:re};function re(){r=C,c.previous=L,c.currentConstruct=P,c.events.length=H,s=q,v()}}function v(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ia(e,n){let t=n.start._index,r=n.start._bufferIndex,i=n.end._index,o=n.end._bufferIndex,a;if(t===i)a=[e[t].slice(r,o)];else{if(a=e.slice(t,i),r>-1){let s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function oa(e,n){let t=-1,r=[],i;for(;++t<e.length;){let o=e[t],a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=n?" ":"	";break}case-1:{if(!n&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function Qt(e){let r={constructs:Dn([Ut,...(e||{}).extensions||[]]),content:i(Qn),defined:[],document:i($n),flow:i(Zn),lazy:{},string:i(Jn),text:i(er)};return r;function i(o){return a;function a(s){return rr(r,o,s)}}}function Gt(e){for(;!ft(e););return e}var ir=/[\0\t\n\r]/g;function $t(){let e=1,n="",t=!0,r;return i;function i(o,a,s){let u=[],l,c,p,h,f;for(o=n+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),p=0,n="",t&&(o.charCodeAt(0)===65279&&p++,t=void 0);p<o.length;){if(ir.lastIndex=p,l=ir.exec(o),h=l&&l.index!==void 0?l.index:o.length,f=o.charCodeAt(h),!l){n=o.slice(p);break}if(f===10&&p===h&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),p<h&&(u.push(o.slice(p,h)),e+=h-p),f){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}p=h+1}return s&&(r&&u.push(-5),n&&u.push(n),u.push(null)),u}}var aa=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gt(e){return e.replace(aa,sa)}function sa(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){let i=t.charCodeAt(1),o=i===120||i===88;return ot(t.slice(o?2:1),o?16:10)}return ze(t)||e}function me(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?or(e.position):"start"in e||"end"in e?or(e):"line"in e||"column"in e?Wt(e):""}function Wt(e){return ar(e&&e.line)+":"+ar(e&&e.column)}function or(e){return Wt(e&&e.start)+"-"+Wt(e&&e.end)}function ar(e){return e&&typeof e=="number"?e:1}var ur={}.hasOwnProperty;function Yt(e,n,t){return typeof n!="string"&&(t=n,n=void 0),ua(t)(Gt(Qt(t).document().write($t()(e,n,!0))))}function ua(e){let n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(zn),autolinkProtocol:F,autolinkEmail:F,atxHeading:o(An),blockQuote:o(ue),characterEscape:F,characterReference:F,codeFenced:o(ye),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(ye,a),codeText:o(Te,a),codeTextData:F,data:F,codeFlowValue:F,definition:o(Nt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(bi),hardBreakEscape:o(Pn),hardBreakTrailing:o(Pn),htmlFlow:o(Ln,a),htmlFlowData:F,htmlText:o(Ln,a),htmlTextData:F,image:o(Si),label:a,link:o(zn),listItem:o(Ci),listItemValue:h,listOrdered:o(Fn,p),listUnordered:o(Fn),paragraph:o(Ei),reference:d,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(An),strong:o(Ii),thematicBreak:o(Ai)},exit:{atxHeading:u(),atxHeadingSequence:D,autolink:u(),autolinkEmail:He,autolinkProtocol:Q,blockQuote:u(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:xe,characterReferenceMarkerNumeric:xe,characterReferenceValue:Ft,characterReference:nt,codeFenced:u(N),codeFencedFence:E,codeFencedFenceInfo:f,codeFencedFenceMeta:b,codeFlowValue:O,codeIndented:u(k),codeText:u(P),codeTextData:O,data:O,definition:u(),definitionDestinationString:_,definitionLabelString:R,definitionTitleString:S,emphasis:u(),hardBreakEscape:u(v),hardBreakTrailing:u(v),htmlFlow:u(C),htmlFlowData:O,htmlText:u(L),htmlTextData:O,image:u(q),label:ae,labelText:re,lineEnding:te,link:u(H),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:K,resourceDestinationString:m,resourceTitleString:ne,resource:se,setextHeading:u(j),setextHeadingLineSequence:B,setextHeadingText:x,strong:u(),thematicBreak:u()}};lr(n,(e||{}).mdastExtensions||[]);let t={};return r;function r(g){let y={type:"root",children:[]},T={stack:[y],tokenStack:[],config:n,enter:s,exit:l,buffer:a,resume:c,data:t},z=[],M=-1;for(;++M<g.length;)if(g[M][1].type==="listOrdered"||g[M][1].type==="listUnordered")if(g[M][0]==="enter")z.push(M);else{let ie=z.pop();M=i(g,ie,M)}for(M=-1;++M<g.length;){let ie=n[g[M][0]];ur.call(ie,g[M][1].type)&&ie[g[M][1].type].call(Object.assign({sliceSerialize:g[M][2].sliceSerialize},T),g[M][1])}if(T.tokenStack.length>0){let ie=T.tokenStack[T.tokenStack.length-1];(ie[1]||sr).call(T,void 0,ie[0])}for(y.position={start:de(g.length>0?g[0][1].start:{line:1,column:1,offset:0}),end:de(g.length>0?g[g.length-2][1].end:{line:1,column:1,offset:0})},M=-1;++M<n.transforms.length;)y=n.transforms[M](y)||y;return y}function i(g,y,T){let z=y-1,M=-1,ie=!1,ke,le,Ve,je;for(;++z<=T;){let Z=g[z];switch(Z[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Z[0]==="enter"?M++:M--,je=void 0;break}case"lineEndingBlank":{Z[0]==="enter"&&(ke&&!je&&!M&&!Ve&&(Ve=z),je=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:je=void 0}if(!M&&Z[0]==="enter"&&Z[1].type==="listItemPrefix"||M===-1&&Z[0]==="exit"&&(Z[1].type==="listUnordered"||Z[1].type==="listOrdered")){if(ke){let Ae=z;for(le=void 0;Ae--;){let ce=g[Ae];if(ce[1].type==="lineEnding"||ce[1].type==="lineEndingBlank"){if(ce[0]==="exit")continue;le&&(g[le][1].type="lineEndingBlank",ie=!0),ce[1].type="lineEnding",le=Ae}else if(!(ce[1].type==="linePrefix"||ce[1].type==="blockQuotePrefix"||ce[1].type==="blockQuotePrefixWhitespace"||ce[1].type==="blockQuoteMarker"||ce[1].type==="listItemIndent"))break}Ve&&(!le||Ve<le)&&(ke._spread=!0),ke.end=Object.assign({},le?g[le][1].start:Z[1].end),g.splice(le||z,0,["exit",ke,Z[2]]),z++,T++}if(Z[1].type==="listItemPrefix"){let Ae={type:"listItem",_spread:!1,start:Object.assign({},Z[1].start),end:void 0};ke=Ae,g.splice(z,0,["enter",Ae,Z[2]]),z++,T++,Ve=void 0,je=!0}}}return g[y][1]._spread=ie,T}function o(g,y){return T;function T(z){s.call(this,g(z),z),y&&y.call(this,z)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(g,y,T){this.stack[this.stack.length-1].children.push(g),this.stack.push(g),this.tokenStack.push([y,T||void 0]),g.position={start:de(y.start),end:void 0}}function u(g){return y;function y(T){g&&g.call(this,T),l.call(this,T)}}function l(g,y){let T=this.stack.pop(),z=this.tokenStack.pop();if(z)z[0].type!==g.type&&(y?y.call(this,g,z[0]):(z[1]||sr).call(this,g,z[0]));else throw new Error("Cannot close `"+g.type+"` ("+me({start:g.start,end:g.end})+"): it\u2019s not open");T.position.end=de(g.end)}function c(){return we(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function h(g){if(this.data.expectingFirstListItemValue){let y=this.stack[this.stack.length-2];y.start=Number.parseInt(this.sliceSerialize(g),10),this.data.expectingFirstListItemValue=void 0}}function f(){let g=this.resume(),y=this.stack[this.stack.length-1];y.lang=g}function b(){let g=this.resume(),y=this.stack[this.stack.length-1];y.meta=g}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){let g=this.resume(),y=this.stack[this.stack.length-1];y.value=g.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){let g=this.resume(),y=this.stack[this.stack.length-1];y.value=g.replace(/(\r?\n|\r)$/g,"")}function R(g){let y=this.resume(),T=this.stack[this.stack.length-1];T.label=y,T.identifier=fe(this.sliceSerialize(g)).toLowerCase()}function S(){let g=this.resume(),y=this.stack[this.stack.length-1];y.title=g}function _(){let g=this.resume(),y=this.stack[this.stack.length-1];y.url=g}function D(g){let y=this.stack[this.stack.length-1];if(!y.depth){let T=this.sliceSerialize(g).length;y.depth=T}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function B(g){let y=this.stack[this.stack.length-1];y.depth=this.sliceSerialize(g).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function F(g){let T=this.stack[this.stack.length-1].children,z=T[T.length-1];(!z||z.type!=="text")&&(z=Ti(),z.position={start:de(g.start),end:void 0},T.push(z)),this.stack.push(z)}function O(g){let y=this.stack.pop();y.value+=this.sliceSerialize(g),y.position.end=de(g.end)}function te(g){let y=this.stack[this.stack.length-1];if(this.data.atHardBreak){let T=y.children[y.children.length-1];T.position.end=de(g.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(y.type)&&(F.call(this,g),O.call(this,g))}function v(){this.data.atHardBreak=!0}function C(){let g=this.resume(),y=this.stack[this.stack.length-1];y.value=g}function L(){let g=this.resume(),y=this.stack[this.stack.length-1];y.value=g}function P(){let g=this.resume(),y=this.stack[this.stack.length-1];y.value=g}function H(){let g=this.stack[this.stack.length-1];if(this.data.inReference){let y=this.data.referenceType||"shortcut";g.type+="Reference",g.referenceType=y,delete g.url,delete g.title}else delete g.identifier,delete g.label;this.data.referenceType=void 0}function q(){let g=this.stack[this.stack.length-1];if(this.data.inReference){let y=this.data.referenceType||"shortcut";g.type+="Reference",g.referenceType=y,delete g.url,delete g.title}else delete g.identifier,delete g.label;this.data.referenceType=void 0}function re(g){let y=this.sliceSerialize(g),T=this.stack[this.stack.length-2];T.label=gt(y),T.identifier=fe(y).toLowerCase()}function ae(){let g=this.stack[this.stack.length-1],y=this.resume(),T=this.stack[this.stack.length-1];if(this.data.inReference=!0,T.type==="link"){let z=g.children;T.children=z}else T.alt=y}function m(){let g=this.resume(),y=this.stack[this.stack.length-1];y.url=g}function ne(){let g=this.resume(),y=this.stack[this.stack.length-1];y.title=g}function se(){this.data.inReference=void 0}function d(){this.data.referenceType="collapsed"}function K(g){let y=this.resume(),T=this.stack[this.stack.length-1];T.label=y,T.identifier=fe(this.sliceSerialize(g)).toLowerCase(),this.data.referenceType="full"}function xe(g){this.data.characterReferenceType=g.type}function Ft(g){let y=this.sliceSerialize(g),T=this.data.characterReferenceType,z;T?(z=ot(y,T==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):z=ze(y);let M=this.stack[this.stack.length-1];M.value+=z}function nt(g){let y=this.stack.pop();y.position.end=de(g.end)}function Q(g){O.call(this,g);let y=this.stack[this.stack.length-1];y.url=this.sliceSerialize(g)}function He(g){O.call(this,g);let y=this.stack[this.stack.length-1];y.url="mailto:"+this.sliceSerialize(g)}function ue(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function Te(){return{type:"inlineCode",value:""}}function Nt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function bi(){return{type:"emphasis",children:[]}}function An(){return{type:"heading",depth:0,children:[]}}function Pn(){return{type:"break"}}function Ln(){return{type:"html",value:""}}function Si(){return{type:"image",title:null,url:"",alt:null}}function zn(){return{type:"link",title:null,url:"",children:[]}}function Fn(g){return{type:"list",ordered:g.type==="listOrdered",start:null,spread:g._spread,children:[]}}function Ci(g){return{type:"listItem",spread:g._spread,checked:null,children:[]}}function Ei(){return{type:"paragraph",children:[]}}function Ii(){return{type:"strong",children:[]}}function Ti(){return{type:"text",value:""}}function Ai(){return{type:"thematicBreak"}}}function de(e){return{line:e.line,column:e.column,offset:e.offset}}function lr(e,n){let t=-1;for(;++t<n.length;){let r=n[t];Array.isArray(r)?lr(e,r):la(e,r)}}function la(e,n){let t;for(t in n)if(ur.call(n,t))switch(t){case"canContainEols":{let r=n[t];r&&e[t].push(...r);break}case"transforms":{let r=n[t];r&&e[t].push(...r);break}case"enter":case"exit":{let r=n[t];r&&Object.assign(e[t],r);break}}}function sr(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+me({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+me({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+me({start:n.start,end:n.end})+") is still open")}function xt(e){let n=this;n.parser=t;function t(r){return Yt(r,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}var cr={}.hasOwnProperty;function fr(e,n){let t=n||{};function r(i,...o){let a=r.invalid,s=r.handlers;if(i&&cr.call(i,e)){let u=String(i[e]);a=cr.call(s,u)?s[u]:r.unknown}if(a)return a.call(this,i,...o)}return r.handlers=t.handlers||{},r.invalid=t.invalid,r.unknown=t.unknown,r}var ca={}.hasOwnProperty;function Kt(e,n){let t=-1,r;if(n.extensions)for(;++t<n.extensions.length;)Kt(e,n.extensions[t]);for(r in n)if(ca.call(n,r))switch(r){case"extensions":break;case"unsafe":{pr(e[r],n[r]);break}case"join":{pr(e[r],n[r]);break}case"handlers":{fa(e[r],n[r]);break}default:e.options[r]=n[r]}return e}function pr(e,n){n&&e.push(...n)}function fa(e,n){n&&Object.assign(e,n)}function hr(e,n,t,r){let i=t.enter("blockquote"),o=t.createTracker(r);o.move("> "),o.shift(2);let a=t.indentLines(t.containerFlow(e,o.current()),pa);return i(),a}function pa(e,n,t){return">"+(t?"":" ")+e}function yt(e,n){return mr(e,n.inConstruct,!0)&&!mr(e,n.notInConstruct,!1)}function mr(e,n,t){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return t;let r=-1;for(;++r<n.length;)if(e.includes(n[r]))return!0;return!1}function Zt(e,n,t,r){let i=-1;for(;++i<t.unsafe.length;)if(t.unsafe[i].character===`
`&&yt(t.stack,t.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function dr(e,n){let t=String(e),r=t.indexOf(n),i=r,o=0,a=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>a&&(a=o):o=1,i=r+n.length,r=t.indexOf(n,i);return a}function Ke(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function gr(e){let n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function xr(e,n,t,r){let i=gr(t),o=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(Ke(e,t)){let p=t.enter("codeIndented"),h=t.indentLines(o,ha);return p(),h}let s=t.createTracker(r),u=i.repeat(Math.max(dr(o,i)+1,3)),l=t.enter("codeFenced"),c=s.move(u);if(e.lang){let p=t.enter(`codeFencedLang${a}`);c+=s.move(t.safe(e.lang,{before:c,after:" ",encode:["`"],...s.current()})),p()}if(e.lang&&e.meta){let p=t.enter(`codeFencedMeta${a}`);c+=s.move(" "),c+=s.move(t.safe(e.meta,{before:c,after:`
`,encode:["`"],...s.current()})),p()}return c+=s.move(`
`),o&&(c+=s.move(o+`
`)),c+=s.move(u),l(),c}function ha(e,n,t){return(t?"":"    ")+e}function ve(e){let n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function yr(e,n,t,r){let i=ve(t),o=i==='"'?"Quote":"Apostrophe",a=t.enter("definition"),s=t.enter("label"),u=t.createTracker(r),l=u.move("[");return l+=u.move(t.safe(t.associationId(e),{before:l,after:"]",...u.current()})),l+=u.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=t.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(t.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(s=t.enter("destinationRaw"),l+=u.move(t.safe(e.url,{before:l,after:e.title?" ":`
`,...u.current()}))),s(),e.title&&(s=t.enter(`title${o}`),l+=u.move(" "+i),l+=u.move(t.safe(e.title,{before:l,after:i,...u.current()})),l+=u.move(i),s()),a(),l}function kr(e){let n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function J(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Me(e,n,t){let r=Fe(e),i=Fe(n);return r===void 0?i===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Xt.peek=ma;function Xt(e,n,t,r){let i=kr(t),o=t.enter("emphasis"),a=t.createTracker(r),s=a.move(i),u=a.move(t.containerPhrasing(e,{after:i,before:s,...a.current()})),l=u.charCodeAt(0),c=Me(r.before.charCodeAt(r.before.length-1),l,i);c.inside&&(u=J(l)+u.slice(1));let p=u.charCodeAt(u.length-1),h=Me(r.after.charCodeAt(0),p,i);h.inside&&(u=u.slice(0,-1)+J(p));let f=a.move(i);return o(),t.attentionEncodeSurroundingInfo={after:h.outside,before:c.outside},s+u+f}function ma(e,n,t){return t.options.emphasis||"*"}var Be=function(e){if(e==null)return ya;if(typeof e=="function")return kt(e);if(typeof e=="object")return Array.isArray(e)?da(e):ga(e);if(typeof e=="string")return xa(e);throw new Error("Expected function, string, or object as test")};function da(e){let n=[],t=-1;for(;++t<e.length;)n[t]=Be(e[t]);return kt(r);function r(...i){let o=-1;for(;++o<n.length;)if(n[o].apply(this,i))return!0;return!1}}function ga(e){let n=e;return kt(t);function t(r){let i=r,o;for(o in e)if(i[o]!==n[o])return!1;return!0}}function xa(e){return kt(n);function n(t){return t&&t.type===e}}function kt(e){return n;function n(t,r,i){return!!(ka(t)&&e.call(this,t,typeof r=="number"?r:void 0,i||void 0))}}function ya(){return!0}function ka(e){return e!==null&&typeof e=="object"&&"type"in e}var wr=[],wt=!0,Ee=!1,bt="skip";function Jt(e,n,t,r){let i;typeof n=="function"&&typeof t!="function"?(r=t,t=n):i=n;let o=Be(i),a=r?-1:1;s(e,void 0,[])();function s(u,l,c){let p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){let f=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(u.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=wr,b,E,N;if((!n||o(u,l,c[c.length-1]||void 0))&&(f=wa(t(u,c)),f[0]===Ee))return f;if("children"in u&&u.children){let k=u;if(k.children&&f[0]!==bt)for(E=(r?k.children.length:-1)+a,N=c.concat(k);E>-1&&E<k.children.length;){let R=k.children[E];if(b=s(R,E,N)(),b[0]===Ee)return b;E=typeof b[1]=="number"?b[1]:E+a}}return f}}}function wa(e){return Array.isArray(e)?e:typeof e=="number"?[wt,e]:e==null?wr:[e]}function en(e,n,t,r){let i,o,a;typeof n=="function"&&typeof t!="function"?(o=void 0,a=n,i=t):(o=n,a=t,i=r),Jt(e,o,s,i);function s(u,l){let c=l[l.length-1],p=c?c.children.indexOf(u):void 0;return a(u,p,c)}}function St(e,n){let t=!1;return en(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return t=!0,Ee}),!!((!e.depth||e.depth<3)&&we(e)&&(n.options.setext||t))}function br(e,n,t,r){let i=Math.max(Math.min(6,e.depth||1),1),o=t.createTracker(r);if(St(e,t)){let c=t.enter("headingSetext"),p=t.enter("phrasing"),h=t.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return p(),c(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}let a="#".repeat(i),s=t.enter("headingAtx"),u=t.enter("phrasing");o.move(a+" ");let l=t.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(l)&&(l=J(l.charCodeAt(0))+l.slice(1)),l=l?a+" "+l:a,t.options.closeAtx&&(l+=" "+a),u(),s(),l}tn.peek=ba;function tn(e){return e.value||""}function ba(){return"<"}nn.peek=Sa;function nn(e,n,t,r){let i=ve(t),o=i==='"'?"Quote":"Apostrophe",a=t.enter("image"),s=t.enter("label"),u=t.createTracker(r),l=u.move("![");return l+=u.move(t.safe(e.alt,{before:l,after:"]",...u.current()})),l+=u.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=t.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(t.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(s=t.enter("destinationRaw"),l+=u.move(t.safe(e.url,{before:l,after:e.title?" ":")",...u.current()}))),s(),e.title&&(s=t.enter(`title${o}`),l+=u.move(" "+i),l+=u.move(t.safe(e.title,{before:l,after:i,...u.current()})),l+=u.move(i),s()),l+=u.move(")"),a(),l}function Sa(){return"!"}rn.peek=Ca;function rn(e,n,t,r){let i=e.referenceType,o=t.enter("imageReference"),a=t.enter("label"),s=t.createTracker(r),u=s.move("!["),l=t.safe(e.alt,{before:u,after:"]",...s.current()});u+=s.move(l+"]["),a();let c=t.stack;t.stack=[],a=t.enter("reference");let p=t.safe(t.associationId(e),{before:u,after:"]",...s.current()});return a(),t.stack=c,o(),i==="full"||!l||l!==p?u+=s.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=s.move("]"),u}function Ca(){return"!"}on.peek=Ea;function on(e,n,t){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<t.unsafe.length;){let a=t.unsafe[o],s=t.compilePattern(a),u;if(a.atBreak)for(;u=s.exec(r);){let l=u.index;r.charCodeAt(l)===10&&r.charCodeAt(l-1)===13&&l--,r=r.slice(0,l)+" "+r.slice(u.index+1)}}return i+r+i}function Ea(){return"`"}function an(e,n){let t=we(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(t===e.url||"mailto:"+t===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}sn.peek=Ia;function sn(e,n,t,r){let i=ve(t),o=i==='"'?"Quote":"Apostrophe",a=t.createTracker(r),s,u;if(an(e,t)){let c=t.stack;t.stack=[],s=t.enter("autolink");let p=a.move("<");return p+=a.move(t.containerPhrasing(e,{before:p,after:">",...a.current()})),p+=a.move(">"),s(),t.stack=c,p}s=t.enter("link"),u=t.enter("label");let l=a.move("[");return l+=a.move(t.containerPhrasing(e,{before:l,after:"](",...a.current()})),l+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=t.enter("destinationLiteral"),l+=a.move("<"),l+=a.move(t.safe(e.url,{before:l,after:">",...a.current()})),l+=a.move(">")):(u=t.enter("destinationRaw"),l+=a.move(t.safe(e.url,{before:l,after:e.title?" ":")",...a.current()}))),u(),e.title&&(u=t.enter(`title${o}`),l+=a.move(" "+i),l+=a.move(t.safe(e.title,{before:l,after:i,...a.current()})),l+=a.move(i),u()),l+=a.move(")"),s(),l}function Ia(e,n,t){return an(e,t)?"<":"["}un.peek=Ta;function un(e,n,t,r){let i=e.referenceType,o=t.enter("linkReference"),a=t.enter("label"),s=t.createTracker(r),u=s.move("["),l=t.containerPhrasing(e,{before:u,after:"]",...s.current()});u+=s.move(l+"]["),a();let c=t.stack;t.stack=[],a=t.enter("reference");let p=t.safe(t.associationId(e),{before:u,after:"]",...s.current()});return a(),t.stack=c,o(),i==="full"||!l||l!==p?u+=s.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=s.move("]"),u}function Ta(){return"["}function Re(e){let n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function Sr(e){let n=Re(e),t=e.options.bulletOther;if(!t)return n==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+t+"`) to be different");return t}function Cr(e){let n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function Ct(e){let n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function Er(e,n,t,r){let i=t.enter("list"),o=t.bulletCurrent,a=e.ordered?Cr(t):Re(t),s=e.ordered?a==="."?")":".":Sr(t),u=n&&t.bulletLastUsed?a===t.bulletLastUsed:!1;if(!e.ordered){let c=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&c&&(!c.children||!c.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(u=!0),Ct(t)===a&&c){let p=-1;for(;++p<e.children.length;){let h=e.children[p];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=s),t.bulletCurrent=a;let l=t.containerFlow(e,r);return t.bulletLastUsed=a,t.bulletCurrent=o,i(),l}function Ir(e){let n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function Tr(e,n,t,r){let i=Ir(t),o=t.bulletCurrent||Re(t);n&&n.type==="list"&&n.ordered&&(o=(typeof n.start=="number"&&n.start>-1?n.start:1)+(t.options.incrementListMarker===!1?0:n.children.indexOf(e))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(a=Math.ceil(a/4)*4);let s=t.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);let u=t.enter("listItem"),l=t.indentLines(t.containerFlow(e,s.current()),c);return u(),l;function c(p,h,f){return h?(f?"":" ".repeat(a))+p:(f?o:o+" ".repeat(a-o.length))+p}}function Ar(e,n,t,r){let i=t.enter("paragraph"),o=t.enter("phrasing"),a=t.containerPhrasing(e,r);return o(),i(),a}var ln=Be(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Pr(e,n,t,r){return(e.children.some(function(a){return ln(a)})?t.containerPhrasing:t.containerFlow).call(t,e,r)}function Lr(e){let n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}cn.peek=Aa;function cn(e,n,t,r){let i=Lr(t),o=t.enter("strong"),a=t.createTracker(r),s=a.move(i+i),u=a.move(t.containerPhrasing(e,{after:i,before:s,...a.current()})),l=u.charCodeAt(0),c=Me(r.before.charCodeAt(r.before.length-1),l,i);c.inside&&(u=J(l)+u.slice(1));let p=u.charCodeAt(u.length-1),h=Me(r.after.charCodeAt(0),p,i);h.inside&&(u=u.slice(0,-1)+J(p));let f=a.move(i+i);return o(),t.attentionEncodeSurroundingInfo={after:h.outside,before:c.outside},s+u+f}function Aa(e,n,t){return t.options.strong||"*"}function zr(e,n,t,r){return t.safe(e.value,r)}function Fr(e){let n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function Nr(e,n,t){let r=(Ct(t)+(t.options.ruleSpaces?" ":"")).repeat(Fr(t));return t.options.ruleSpaces?r.slice(0,-1):r}var vr={blockquote:hr,break:Zt,code:xr,definition:yr,emphasis:Xt,hardBreak:Zt,heading:br,html:tn,image:nn,imageReference:rn,inlineCode:on,link:sn,linkReference:un,list:Er,listItem:Tr,paragraph:Ar,root:Pr,strong:cn,text:zr,thematicBreak:Nr};var Mr=[Pa];function Pa(e,n,t,r){if(n.type==="code"&&Ke(n,r)&&(e.type==="list"||e.type===n.type&&Ke(e,r)))return!1;if("spread"in t&&typeof t.spread=="boolean")return e.type==="paragraph"&&(e.type===n.type||n.type==="definition"||n.type==="heading"&&St(n,r))?void 0:t.spread?1:0}var Ie=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Br=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Ie},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Ie},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Ie},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Ie},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Ie},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Ie},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Ie},{atBreak:!0,character:"~"}];function Rr(e){return e.label||!e.identifier?e.label||"":gt(e.identifier)}function _r(e){if(!e._compiled){let n=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function Or(e,n,t){let r=n.indexStack,i=e.children||[],o=[],a=-1,s=t.before,u;r.push(-1);let l=n.createTracker(t);for(;++a<i.length;){let c=i[a],p;if(r[r.length-1]=a,a+1<i.length){let b=n.handle.handlers[i[a+1].type];b&&b.peek&&(b=b.peek),p=b?b(i[a+1],e,n,{before:"",after:"",...l.current()}).charAt(0):""}else p=t.after;o.length>0&&(s==="\r"||s===`
`)&&c.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),s=" ",l=n.createTracker(t),l.move(o.join("")));let h=n.handle(c,e,n,{...l.current(),after:p,before:s});u&&u===h.slice(0,1)&&(h=J(u.charCodeAt(0))+h.slice(1));let f=n.attentionEncodeSurroundingInfo;n.attentionEncodeSurroundingInfo=void 0,u=void 0,f&&(o.length>0&&f.before&&s===o[o.length-1].slice(-1)&&(o[o.length-1]=o[o.length-1].slice(0,-1)+J(s.charCodeAt(0))),f.after&&(u=p)),l.move(h),o.push(h),s=h.slice(-1)}return r.pop(),o.join("")}function Dr(e,n,t){let r=n.indexStack,i=e.children||[],o=n.createTracker(t),a=[],s=-1;for(r.push(-1);++s<i.length;){let u=i[s];r[r.length-1]=s,a.push(o.move(n.handle(u,e,n,{before:`
`,after:`
`,...o.current()}))),u.type!=="list"&&(n.bulletLastUsed=void 0),s<i.length-1&&a.push(o.move(La(u,i[s+1],e,n)))}return r.pop(),a.join("")}function La(e,n,t,r){let i=r.join.length;for(;i--;){let o=r.join[i](e,n,t,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}var za=/\r?\n|\r/g;function Hr(e,n){let t=[],r=0,i=0,o;for(;o=za.exec(e);)a(e.slice(r,o.index)),t.push(o[0]),r=o.index+o[0].length,i++;return a(e.slice(r)),t.join("");function a(s){t.push(n(s,i,!s))}}function jr(e,n,t){let r=(t.before||"")+(n||"")+(t.after||""),i=[],o=[],a={},s=-1;for(;++s<e.unsafe.length;){let c=e.unsafe[s];if(!yt(e.stack,c))continue;let p=e.compilePattern(c),h;for(;h=p.exec(r);){let f="before"in c||!!c.atBreak,b="after"in c,E=h.index+(f?h[1].length:0);i.includes(E)?(a[E].before&&!f&&(a[E].before=!1),a[E].after&&!b&&(a[E].after=!1)):(i.push(E),a[E]={before:f,after:b})}}i.sort(Fa);let u=t.before?t.before.length:0,l=r.length-(t.after?t.after.length:0);for(s=-1;++s<i.length;){let c=i[s];c<u||c>=l||c+1<l&&i[s+1]===c+1&&a[c].after&&!a[c+1].before&&!a[c+1].after||i[s-1]===c-1&&a[c].before&&!a[c-1].before&&!a[c-1].after||(u!==c&&o.push(Vr(r.slice(u,c),"\\")),u=c,/[!-/:-@[-`{-~]/.test(r.charAt(c))&&(!t.encode||!t.encode.includes(r.charAt(c)))?o.push("\\"):(o.push(J(r.charCodeAt(c))),u++))}return o.push(Vr(r.slice(u,l),t.after)),o.join("")}function Fa(e,n){return e-n}function Vr(e,n){let t=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=e+n,a=-1,s=0,u;for(;u=t.exec(o);)r.push(u.index);for(;++a<r.length;)s!==r[a]&&i.push(e.slice(s,r[a])),i.push("\\"),s=r[a];return i.push(e.slice(s)),i.join("")}function qr(e){let n=e||{},t=n.now||{},r=n.lineShift||0,i=t.line||1,o=t.column||1;return{move:u,current:a,shift:s};function a(){return{now:{line:i,column:o},lineShift:r}}function s(l){r+=l}function u(l){let c=l||"",p=c.split(/\r?\n|\r/g),h=p[p.length-1];return i+=p.length-1,o=p.length===1?o+h.length:1+h.length+r,c}}function fn(e,n){let t=n||{},r={associationId:Rr,containerPhrasing:Ba,containerFlow:Ra,createTracker:qr,compilePattern:_r,enter:o,handlers:{...vr},handle:void 0,indentLines:Hr,indexStack:[],join:[...Mr],options:{},safe:_a,stack:[],unsafe:[...Br]};Kt(r,t),r.options.tightDefinitions&&r.join.push(Ma),r.handle=fr("type",{invalid:Na,unknown:va,handlers:r.handlers});let i=r.handle(e,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function o(a){return r.stack.push(a),s;function s(){r.stack.pop()}}}function Na(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function va(e){let n=e;throw new Error("Cannot handle unknown node `"+n.type+"`")}function Ma(e,n){if(e.type==="definition"&&e.type===n.type)return 0}function Ba(e,n){return Or(e,this,n)}function Ra(e,n){return Dr(e,this,n)}function _a(e,n){return jr(this,e,n)}function Et(e){let n=this;n.compiler=t;function t(r){return fn(r,{...n.data("settings"),...e,extensions:n.data("toMarkdownExtensions")||[]})}}function pn(e){if(e)throw e}var At=Mi(Xr(),1);function Ze(e){if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function hn(){let e=[],n={run:t,use:r};return n;function t(...i){let o=-1,a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(u,...l){let c=e[++o],p=-1;if(u){a(u);return}for(;++p<i.length;)(l[p]===null||l[p]===void 0)&&(l[p]=i[p]);i=l,c?Jr(c,s)(...l):a(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function Jr(e,n){let t;return r;function r(...a){let s=e.length>a.length,u;s&&a.push(i);try{u=e.apply(this,a)}catch(l){let c=l;if(s&&t)throw c;return i(c)}s||(u&&u.then&&typeof u.then=="function"?u.then(o,i):u instanceof Error?i(u):o(u))}function i(a,...s){t||(t=!0,n(a,...s))}function o(a){i(null,a)}}var U=class extends Error{constructor(n,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let i="",o={},a=!1;if(t&&("line"in t&&"column"in t?o={place:t}:"start"in t&&"end"in t?o={place:t}:"type"in t?o={ancestors:[t],place:t.position}:o={...t}),typeof n=="string"?i=n:!o.cause&&n&&(a=!0,i=n.message,o.cause=n),!o.ruleId&&!o.source&&typeof r=="string"){let u=r.indexOf(":");u===-1?o.ruleId=r:(o.source=r.slice(0,u),o.ruleId=r.slice(u+1))}if(!o.place&&o.ancestors&&o.ancestors){let u=o.ancestors[o.ancestors.length-1];u&&(o.place=u.position)}let s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=me(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}};U.prototype.file="";U.prototype.name="";U.prototype.reason="";U.prototype.message="";U.prototype.stack="";U.prototype.column=void 0;U.prototype.line=void 0;U.prototype.ancestors=void 0;U.prototype.cause=void 0;U.prototype.fatal=void 0;U.prototype.place=void 0;U.prototype.ruleId=void 0;U.prototype.source=void 0;var oe={basename:Oa,dirname:Da,extname:Ha,join:Va,sep:"/"};function Oa(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Xe(e);let t=0,r=-1,i=e.length,o;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){t=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let a=-1,s=n.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){t=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(e.codePointAt(i)===n.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return t===r?r=a:r<0&&(r=e.length),e.slice(t,r)}function Da(e){if(Xe(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.codePointAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function Ha(e){Xe(e);let n=e.length,t=-1,r=0,i=-1,o=0,a;for(;n--;){let s=e.codePointAt(n);if(s===47){if(a){r=n+1;break}continue}t<0&&(a=!0,t=n+1),s===46?i<0?i=n:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||t<0||o===0||o===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function Va(...e){let n=-1,t;for(;++n<e.length;)Xe(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":ja(t)}function ja(e){Xe(e);let n=e.codePointAt(0)===47,t=qa(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.codePointAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function qa(e,n){let t="",r=0,i=-1,o=0,a=-1,s,u;for(;++a<=e.length;){if(a<e.length)s=e.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(u=t.lastIndexOf("/"),u!==t.length-1){u<0?(t="",r=0):(t=t.slice(0,u),r=t.length-1-t.lastIndexOf("/")),i=a,o=0;continue}}else if(t.length>0){t="",r=0,i=a,o=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,a):t=e.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return t}function Xe(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}var ei={cwd:Ua};function Ua(){return"/"}function _e(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ti(e){if(typeof e=="string")e=new URL(e);else if(!_e(e)){let n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){let n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return Qa(e)}function Qa(e){if(e.hostname!==""){let r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}let n=e.pathname,t=-1;for(;++t<n.length;)if(n.codePointAt(t)===37&&n.codePointAt(t+1)===50){let r=n.codePointAt(t+2);if(r===70||r===102){let i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}var mn=["history","path","basename","stem","extname","dirname"],Je=class{constructor(n){let t;n?_e(n)?t={path:n}:typeof n=="string"||Ga(n)?t={value:n}:t=n:t={},this.cwd="cwd"in t?"":ei.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<mn.length;){let o=mn[r];o in t&&t[o]!==void 0&&t[o]!==null&&(this[o]=o==="history"?[...t[o]]:t[o])}let i;for(i in t)mn.includes(i)||(this[i]=t[i])}get basename(){return typeof this.path=="string"?oe.basename(this.path):void 0}set basename(n){gn(n,"basename"),dn(n,"basename"),this.path=oe.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?oe.dirname(this.path):void 0}set dirname(n){ni(this.basename,"dirname"),this.path=oe.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?oe.extname(this.path):void 0}set extname(n){if(dn(n,"extname"),ni(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=oe.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){_e(n)&&(n=ti(n)),gn(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?oe.basename(this.path,this.extname):void 0}set stem(n){gn(n,"stem"),dn(n,"stem"),this.path=oe.join(this.dirname||"",n+(this.extname||""))}fail(n,t,r){let i=this.message(n,t,r);throw i.fatal=!0,i}info(n,t,r){let i=this.message(n,t,r);return i.fatal=void 0,i}message(n,t,r){let i=new U(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}};function dn(e,n){if(e&&e.includes(oe.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+oe.sep+"`")}function gn(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function ni(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function Ga(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}var ri=function(e){let r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o};var $a={}.hasOwnProperty,wn=class e extends ri{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=hn()}copy(){let n=new e,t=-1;for(;++t<this.attachers.length;){let r=this.attachers[t];n.use(...r)}return n.data((0,At.default)(!0,{},this.namespace)),n}data(n,t){return typeof n=="string"?arguments.length===2?(kn("data",this.frozen),this.namespace[n]=t,this):$a.call(this.namespace,n)&&this.namespace[n]||void 0:n?(kn("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;let n=this;for(;++this.freezeIndex<this.attachers.length;){let[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let i=t.call(n,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();let t=Tt(n),r=this.parser||this.Parser;return xn("parse",r),r(String(t),t)}process(n,t){let r=this;return this.freeze(),xn("process",this.parser||this.Parser),yn("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(o,a){let s=Tt(n),u=r.parse(s);r.run(u,s,function(c,p,h){if(c||!p||!h)return l(c);let f=p,b=r.stringify(f,h);Ya(b)?h.value=b:h.result=b,l(c,h)});function l(c,p){c||!p?a(c):o?o(p):t(void 0,p)}}}processSync(n){let t=!1,r;return this.freeze(),xn("processSync",this.parser||this.Parser),yn("processSync",this.compiler||this.Compiler),this.process(n,i),oi("processSync","process",t),r;function i(o,a){t=!0,pn(o),r=a}}run(n,t,r){ii(n),this.freeze();let i=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?o(void 0,r):new Promise(o);function o(a,s){let u=Tt(t);i.run(n,u,l);function l(c,p,h){let f=p||n;c?s(c):a?a(f):r(void 0,f,h)}}}runSync(n,t){let r=!1,i;return this.run(n,t,o),oi("runSync","run",r),i;function o(a,s){pn(a),i=s,r=!0}}stringify(n,t){this.freeze();let r=Tt(t),i=this.compiler||this.Compiler;return yn("stringify",i),ii(n),i(n,r)}use(n,...t){let r=this.attachers,i=this.namespace;if(kn("use",this.frozen),n!=null)if(typeof n=="function")u(n,t);else if(typeof n=="object")Array.isArray(n)?s(n):a(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function o(l){if(typeof l=="function")u(l,[]);else if(typeof l=="object")if(Array.isArray(l)){let[c,...p]=l;u(c,p)}else a(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function a(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(l.plugins),l.settings&&(i.settings=(0,At.default)(!0,i.settings,l.settings))}function s(l){let c=-1;if(l!=null)if(Array.isArray(l))for(;++c<l.length;){let p=l[c];o(p)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function u(l,c){let p=-1,h=-1;for(;++p<r.length;)if(r[p][0]===l){h=p;break}if(h===-1)r.push([l,...c]);else if(c.length>0){let[f,...b]=c,E=r[h][1];Ze(E)&&Ze(f)&&(f=(0,At.default)(!0,E,f)),r[h]=[l,f,...b]}}}},bn=new wn().freeze();function xn(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function yn(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function kn(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ii(e){if(!Ze(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function oi(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function Tt(e){return Wa(e)?e:new Je(e)}function Wa(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Ya(e){return typeof e=="string"||Ka(e)}function Ka(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}var ai=bn().use(xt).use(Et).freeze();function*Za(e){var o;let n=ai().parse(e),t=[],r,i=new Le(e,n);for(;i;){let a=i;a.firstChild||((!r&&a.position.from>0||r&&r.position.to<a.position.from)&&(yield Le.createGap(r,a)),a.position.from<a.position.to&&(yield a,r=a)),a.firstChild?(t.push(a),i=a.firstChild):a.nextSibling?i=a.nextSibling:i=((o=t.pop())==null?void 0:o.nextSibling)||void 0}r&&r.position.to<e.length&&(yield Le.createGap(r))}function*Xa(e,n){let t;for(let r of e)n&&r.type in n&&(r.type=n[r.type]),t?r.type===t.type?t=t.extendTo(r.position.to):(yield t,t=r):t=r;t&&(yield t)}function si(e){return n=>Xa(n,e)}var Ja=[(e,n,t)=>{if(t!==0||n!==0||e.substring(0,4)!==`---
`)return;let r=e.indexOf(`
---
`,3);if(r!==-1)return{type:"metadata",from:0,to:r+5}},(e,n)=>{let t=e.indexOf("\\",n);if(!(t===-1||t===e.length-1))return{type:"literal",from:t,to:t+2}},(e,n)=>{let t=e.indexOf("%%",n);if(t===-1)return;let r=e.indexOf("%%",t+2);return{type:"comment",from:t,to:r===-1?t+2:r+2,continue:r===-1}},(e,n)=>{let t=/#[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+/gu;for(;n<e.length;){t.lastIndex=n;let r=t.exec(e);if(!r)return;let i=r.index;if(i!==0&&!/\s/.test(e[i-1])){n=i+1;continue}if(i+r[0].length<e.length&&!/\s/.test(e[i+r[0].length])){n=i+1;continue}return{type:"tag",from:i,to:i+r[0].length}}}];function*es(e){let n="default",t,r,i;for(r of e){if(i===void 0?i=0:i++,n==="default"&&r.type!=="text"){yield r;continue}if(n==="in-comment"){if(!t)throw new Error("Logic Error: still in a comment, but no 'next' node is waiting for us");let u=r.toString().indexOf("%%");if(u===-1){t=t.extendTo(r.position.to);continue}t=t.extendTo(t.position.to+u+2),yield t,t=void 0,n="default",r=r.slice(u+2),r.type="text"}let o=r.toString(),a=0;for(;a<o.length;){let s;for(let u of Ja){let l=u(o,a,i);l&&(!s||s.from>l.from)&&(s=l)}if(!s){let u=r.slice(a,o.length);u.type="text",yield u,a=o.length;break}if(s.from>a){let u=r.slice(a,s.from);u.type="text",yield u}if(t=r.slice(s.from,s.to),t.type=s.type,s.continue){s.type==="comment"&&(n="in-comment");break}yield t,a=s.to,t=void 0}}t&&r&&(t=t.extendTo(r.position.to),yield t)}function*Sn(e){for(let n of e){let t=n.toString(),r=0;for(;r<t.length;){let i=t.indexOf(`
`,r);if(i===-1){yield n.slice(r);break}yield n.slice(r,i+1),r=i+1}}}var Pt=[si({gap:"text"}),es,si({gap:"text",literal:"text"})];function*Cn(e,n){let r=Za(e);for(let i of n||Pt)r=i(r);for(let i of r)yield i.simpleSpan}function et(e,n=`
`){return typeof n=="string"?[...Array(e.split(n).length-1)].map(()=>n).join(""):(n.flags.includes("g")||(n=new RegExp(n.source,n.flags+"g")),[...e.matchAll(n)].map(t=>t[0]).join(""))}function Oe(e,n,t){return typeof e=="object"&&"sliceString"in e?e.sliceString(n,t):e.slice(n,t)}function li(e,n){if(!n.stripComments&&!n.stripTagLines)return e;let t="",r="",i=!1,o=!1,a=!1;for(let s of Cn(e,[...Pt,Sn])){let u=Oe(e,s.position.start.offset,s.position.end.offset),l=u.lastIndexOf(`
`);if(s.type==="comment"&&(a=!0),s.type==="tag"&&(o=!0),(!n.stripComments||s.type!=="comment")&&(!n.stripTagLines||s.type!=="tag")&&!/^\s*$/.test(u)&&(i=!0),n.stripComments&&s.type==="comment"){a=!0,n.stripModifiedEmpty||(t+=et(Oe(e,s.position.start.offset,s.position.end.offset),`
`));continue}if(!(n.stripMetadata&&s.type==="metadata")&&(r+=u,l!==-1)){if(n.stripTagLines&&!i&&o||n.stripComments&&!i&&a){n.stripModifiedEmpty||(t+=et(r,`
`)),r="",a=!1,i=!1,o=!1;continue}t+=r,r="",a=!1,i=!1,o=!1}}return r.length>0&&(n.stripTagLines&&!i&&o||n.stripComments&&!i&&a?n.stripModifiedEmpty||(t+=et(r,`
`)):t+=r),t}function ge(e,n,t,r){var p;let i=Object.assign({},e.settings,r||{}),o=(p=e.app.workspace.activeEditor)==null?void 0:p.file;if(!o)throw new Error("No active editor file");let a=e.app.metadataCache.getFileCache(o);if(!(a!=null&&a.headings)||!(a!=null&&a.sections))throw new Error("fileCache not ready");let s=new it(a,t),u=s.getHeadingRelative(0);if(!u&&!i.full)throw new Error("Specified section does not contain a Heading (none are cached)");let l=u&&!i.full?[...s.getHeadings()].slice(1).find(h=>i.excludeSubsections||h.level<=u.level):void 0,c=s.sliceAbsolute(!i.full&&!i.includeSectionHeading&&u?u.position.end.offset:void 0,l?l.position.start.offset:void 0);return li(Oe(n,c.from,c.to),i)}var En=class extends De.WidgetType{constructor(t){super();this.startPos=t}toDOM(t){let r=t.state.field(tt),i=t.state.doc,o=document.createElement("span");o.addClass("plugin-copy-section-buttons"),r!=null&&r.settings.displayAlways&&o.addClass("plugin-copy-section-buttons-displayAlways");let a=Pe("copy","copy",o),s={lock:!1};return a.container.on("click","*",async(u,l)=>{if(!s.lock)try{s.lock=!0;let c=t.state.field(tt);if(!c)return;let p=ge(c,i,i.lineAt(this.startPos).from);await navigator.clipboard.writeText(p)}catch(c){}finally{s.lock=!1}}),o}},In=class{constructor(n){this.decorations=this.buildDecorations(n)}update(n){(n.docChanged||n.viewportChanged)&&(this.decorations=this.buildDecorations(n.view))}destroy(){}buildDecorations(n){let t=new fi.RangeSetBuilder,r=(0,ci.syntaxTree)(n.state),i=n.state.field(tt),o=(i==null?void 0:i.displayLevels().map(a=>`HyperMD-header_HyperMD-header-${a}`))||[];for(let{from:a,to:s}of n.visibleRanges)r.iterate({from:a,to:s,enter(u){o.contains(u.type.name)&&t.add(u.to,u.to,De.Decoration.widget({side:1,widget:new En(u.from)}))}});return t.finish()}},ts={decorations:e=>e.decorations},pi=De.ViewPlugin.fromClass(In,ts);function hi(e,n){return async(t,r)=>{let i=r.getSectionInfo(t);if(!i)return;let o=t.findAll(n.displayLevels().map(a=>`h${a}`).join(", "));for(let a of o){let s=a.createEl("span");s.addClass("plugin-copy-section-buttons"),n.settings.displayAlways&&s.addClass("plugin-copy-section-buttons-displayAlways");let u=Pe("copy","copy",s),l={lock:!1};u.container.on("mousedown","span",(c,p)=>{var f;(f=p.parentElement)==null||f.addClass("active");let h=()=>{var b;(b=p.parentElement)==null||b.removeClass("active"),p.ownerDocument.off("mouseup","*",h)};p.ownerDocument.on("mouseup","*",h)}),u.container.on("click","span",async(c,p)=>{if(!l.lock)try{l.lock=!0;let h=i.lineStart===0?0:i.text.split(`
`,i.lineStart+1).slice(0,i.lineStart).join(`
`).length+1,f=ge(n,i.text,h);await navigator.clipboard.writeText(f)}catch(h){}finally{l.lock=!1}})}}}var mi=require("obsidian");function di(e,n){let t;e.workspace.on("active-leaf-change",r=>{if(!n.settings.displayTitle||!r||!(r.view instanceof mi.MarkdownView))return;let i=r.view,o=()=>{if(!i.data)return!1;t&&(clearInterval(t),t=void 0);let a=document.querySelector(".inline-title");if(!a||a.querySelector(".plugin-copy-section-buttons"))return!0;let s=a.createEl("span");s.addClass("plugin-copy-section-buttons"),n.settings.displayAlways&&s.addClass("plugin-copy-section-buttons-displayAlways");let u=Pe("copy","copy",s),l={lock:!1};return u.container.on("mousedown","span",(c,p)=>{var f;(f=p.parentElement)==null||f.addClass("active");let h=()=>{var b;(b=p.parentElement)==null||b.removeClass("active"),p.ownerDocument.off("mouseup","*",h)};p.ownerDocument.on("mouseup","*",h)}),u.container.on("click","span",async(c,p)=>{if(!l.lock)try{l.lock=!0;let f=ge(n,i.data,0,{excludeSubsections:!1,full:!0});await navigator.clipboard.writeText(f)}catch(h){}finally{l.lock=!1}}),!0};o()||setInterval(o,200)})}var Tn=require("obsidian");function gi(e,n){return{id:"copy-section-copy",name:"Copy file contents (as per settings)",callback:()=>{let t=e.workspace.getActiveViewOfType(Tn.MarkdownView);if(t){let r=ge(n,t.data,0,{excludeSubsections:!1,full:!0});navigator.clipboard.writeText(r)}}}}function xi(e,n){return{id:"copy-section-copy-raw",name:"Copy file contents (raw)",callback:()=>{let t=e.workspace.getActiveViewOfType(Tn.MarkdownView);t&&navigator.clipboard.writeText(t.data)}}}var ee=require("obsidian"),yi={displayAlways:!1,displayTitle:!0,displayH1:!0,displayH2:!0,displayH3:!0,displayH4:!0,displayH5:!0,displayH6:!0,excludeSubsections:!1,includeSectionHeading:!0,stripComments:!1,stripMetadata:!0,stripModifiedEmpty:!0,stripTagLines:!1},Lt=class extends ee.PluginSettingTab{constructor(n,t){super(n,t),this.plugin=t}display(){let{containerEl:n}=this;n.empty(),new ee.Setting(n).setName("Include section heading").setDesc("Should copied section data include the section heading?").addToggle(t=>t.setValue(this.plugin.settings.includeSectionHeading).onChange(async r=>{this.plugin.settings.includeSectionHeading=r,await this.plugin.saveSettings()})),new ee.Setting(n).setName("Stop at subsections").setDesc("Should copied section data exclude subsections?").addToggle(t=>t.setValue(this.plugin.settings.excludeSubsections).onChange(async r=>{this.plugin.settings.excludeSubsections=r,await this.plugin.saveSettings()})),new ee.Setting(n).setName("Strip comments").setDesc("Remove comments when copying section data?").addToggle(t=>t.setValue(this.plugin.settings.stripComments).onChange(async r=>{this.plugin.settings.stripComments=r,await this.plugin.saveSettings()})),new ee.Setting(n).setName("Strip metadata").setDesc("Remove metadata when copying whole files?").addToggle(t=>t.setValue(this.plugin.settings.stripMetadata).onChange(async r=>{this.plugin.settings.stripMetadata=r,await this.plugin.saveSettings()})),new ee.Setting(n).setName("Strip tag lines").setDesc("Strip out tags from lines which contain only #tags when copying section data?").addToggle(t=>t.setValue(this.plugin.settings.stripTagLines).onChange(async r=>{this.plugin.settings.stripTagLines=r,await this.plugin.saveSettings()})),new ee.Setting(n).setName("Remove modified-to-empty lines?").setDesc("If removing comments / tags / etc leaves a line empty, should the whole line be removed?").addToggle(t=>t.setValue(this.plugin.settings.stripModifiedEmpty).onChange(async r=>{this.plugin.settings.stripModifiedEmpty=r,await this.plugin.saveSettings()})),new ee.Setting(n).setName("Where to display the copy button").setDesc("Note: a reload is required for these to take effect.").setHeading(),new ee.Setting(n).setName("Always show").setDesc("Always display the copy button, not just on hover").addToggle(t=>t.setValue(this.plugin.settings.displayAlways).onChange(async r=>{this.plugin.settings.displayAlways=r,await this.plugin.saveSettings()})),new ee.Setting(n).setName("Display on title").setDesc("Add a copy button to the title").addToggle(t=>t.setValue(this.plugin.settings.displayTitle).onChange(async r=>{this.plugin.settings.displayTitle=r,await this.plugin.saveSettings()}));for(let t of[1,2,3,4,5,6])new ee.Setting(n).setName(`Display on section level ${t}`).setDesc(`Add a copy button to level ${t} section headers`).addToggle(r=>r.setValue(this.plugin.settings[`displayH${t}`]).onChange(async i=>{this.plugin.settings[`displayH${t}`]=i,await this.plugin.saveSettings()}))}};var zt=class extends ki.Plugin{async onload(){await this.loadSettings(),this.addSettingTab(new Lt(this.app,this)),this.addCommand(gi(this.app,this)),this.addCommand(xi(this.app,this)),this.registerEditorExtension([tt.init(()=>this),pi]),this.registerMarkdownPostProcessor(hi(this.app,this)),di(this.app,this)}async loadSettings(){this.settings=Object.assign({},yi,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}displayLevels(){let n=[];for(let t of[1,2,3,4,5,6])this.settings[`displayH${t}`]&&n.push(t);return n}},tt=wi.StateField.define({create(){return null},update(e){return e}});var ns=zt;

/* nosourcemap */